<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Using Multiple Terminal IDs </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Using Multiple Terminal IDs ">
    <meta name="generator" content="docfx 2.59.4.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <link rel="stylesheet" href="../styles/westpay.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> 
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../">
    
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html" style='padding-top:13px'>
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
                
                <ul class="nav level1 navbar-nav">
                      <li>
                          <a href="../articles/intro.html" title="Articles">Articles</a>
                      </li>
                      <li>
                          <a href="../api/index.html" title="API Documentation">API Documentation</a>
                      </li>
                </ul>    </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div>
              <div class="sidefilter">
                <form class="toc-filter">
                  <span class="glyphicon glyphicon-filter filter-icon"></span>
                  <input type="text" id="toc_filter_input" placeholder="Enter here to filter..." onkeypress="if(event.keyCode==13) {return false;}">
                </form>
              </div>
              <div class="sidetoc">
                <div class="toc" id="toc">
                  
                  <ul class="nav level1">
                    <li class="">
                      <a href="intro.html" title="Introduction" class="">Introduction</a>
                    </li>
                    <li class="">
                      <a href="additional.html" title="Additional features" class="">Additional features</a>
                    </li>
                    <li class="">
                      <a href="apm.html" title="Alternative payment methods" class="">Alternative payment methods</a>
                    </li>
                    <li class="">
                      <a href="dcc.html" title="Dynamic Currency Conversion" class="">Dynamic Currency Conversion</a>
                    </li>
                    <li class="">
                      <a href="identifying_cards.html" title="Identifying cards" class="">Identifying cards</a>
                    </li>
                    <li class="">
                      <a href="integrating_the_library.html" title="Integrating the EPAS Client Library" class="">Integrating the EPAS Client Library</a>
                    </li>
                    <li class="active">
                      <a href="multi_tid.html" title="Using Multiple Terminal IDs" class="active">Using Multiple Terminal IDs</a>
                    </li>
                    <li class="">
                      <a href="log_storage.html" title="Log storage" class="">Log storage</a>
                    </li>
                    <li class="">
                      <a href="receipts.html" title="Receipts" class="">Receipts</a>
                    </li>
                    <li class="">
                      <a href="release_notes.html" title="Release notes" class="">Release notes</a>
                    </li>
                    <li class="">
                      <a href="transactions.html" title="Transaction types" class="">Transaction types</a>
                    </li>
                    <li class="">
                      <a href="transaction_flows.html" title="Transaction examples" class="">Transaction examples</a>
                    </li>
                    <li class="">
                      <a href="using_the_library.html" title="Using the EPAS Client Library" class="">Using the EPAS Client Library</a>
                    </li>
                  </ul>        </div>
              </div>
            </div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="using-multiple-terminal-ids">Using Multiple Terminal IDs</h1>

<p>Some stores have one terminal that is shared between several merchants that are located in the same place. In those situations, transactions can be made with different terminal IDs on the terminal.</p>
<p>Traditionally this can be accomplished by logging out after each transaction, and then logging in with the desired terminal ID before each transaction. The problem with this approach is that
it takes time, and only works if there is no disruption to the network connectivity.</p>
<p>The Westpay terminal support using multiple terminal IDs concurrently on a terminal, without the need for logging in before each transaction.</p>
<blockquote><p><strong>Note:</strong> The Multi-TID feature requires a special agreement with Westpay and is not available by default.</p>
</blockquote>
<h3 id="how-to-use-multiple-terminal-ids">How to use multiple terminal IDs</h3>
<p>To use multiple terminal IDs the ECR needs to do 2 things:</p>
<ul>
<li>First, the ECR needs to tell the terminal which terminal IDs it intends to use for transactions. This is done when <a class="xref" href="../api/Westpay.Epas.EpasClient.html#Westpay_Epas_EpasClient_Login_Westpay_Epas_TerminalEnvironment_Westpay_Epas_LoginResponse__">logging in</a>, by including a number of secondary terminal IDs in the <a class="xref" href="../api/Westpay.Epas.TerminalEnvironment.html">TerminalEnvironment</a> object.</li>
<li>Second, in each transaction the ECR needs to include the specific terminal ID to use for that transaction. This is done by creating a <a class="xref" href="../api/Westpay.Epas.PurchaseRequest.html">PurcaseRequest</a> and setting the <a href="xref:Westpay.Epas.PurchaseRequest.TerminalId">TerminalId</a> property.</li>
</ul>
<h3 id="primary-vs-secondary-terminal-ids">Primary vs secondary terminal IDs.</h3>
<p>In <a class="xref" href="../api/Westpay.Epas.TerminalEnvironment.html">TerminalEnvironment</a>, the ECR must specify the <a class="xref" href="../api/Westpay.Epas.TerminalEnvironment.html#Westpay_Epas_TerminalEnvironment_TerminalId">TerminalId</a>. This is the <strong>primary terminal ID</strong>. It defines which software the terminal runs, when it should be updated, as well as other settings that are not strictly related to the merchant.</p>
<p>The <strong>secondary terminal IDs</strong> on the other hand, only controls merchant information and payment options. The secondary terminal IDs are specified in the <a class="xref" href="../api/Westpay.Epas.TerminalEnvironment.html#Westpay_Epas_TerminalEnvironment_SecondaryTerminalId">SecondaryTerminalIds</a></p>
<h3 id="logging-in">Logging in</h3>
<p>In the TerminalEnvironment class, there are two properties that must be set:</p>
<ul>
<li><a class="xref" href="../api/Westpay.Epas.TerminalEnvironment.html#Westpay_Epas_TerminalEnvironment_TerminalId">TerminalId</a> - This is the primary terminal ID.</li>
<li><strong>SecondaryTerminalIds</strong> - A list of other terminal IDs that can be used.</li>
</ul>
<p>Both the primary and secondary terminal IDs can be used in a transaction. It is not an error to include the primary ID in the list of secondary IDs but it is not necessary.</p>
<p>The difference between the primary and secondary terminal IDs is that the primary terminal ID is used to control all terminal configuration, including software updates. For the secondary terminal IDs only the basic merchant configuration is used.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
